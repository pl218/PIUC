
{% extends 'base_signed.html' %}

{% block body %}


<div id="feed_cont">
  <div id="feed_submit">
    <p> submit new </p>
  </div>
  <div id="feed_submit_form">
    <form method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit">POST</button>
    </form>

  </div>
  <div class="feed_post">
    {% for post in posts %}

    <div class="post_title"> {{ post.title }}</div>
    <div class="post_text">  <p>{{ post.post }}

      This is useful in situations where you want to provide an easier/cleaner copy-paste experience for users (not have them accidentally text-select useless things, like icons or images). However it's a bit buggy. Firefox enforces the fact that any text matching that selector cannot be copied. WebKit still allows the text to be copied if you select elements around it.

  You can also use this to enforce that an entire element gets selection:

 </p> </div>
    <div class="post_user">  <p> Posted by {{ post.user.get_full_name }} ORCID:{{ post.user.userprofile.ORCID }} {{ post.date }} </p> </div>

    {% endfor %}
  </div>
</div>


<script type="text/javascript">
  //PUTS THE UNDER BORDER UNDER THE FEED LINK IN THE NAV BAR
  document.querySelector("#nav_bar_links > li:nth-child(1)").id = "nav_bar_link_selected";

  document.getElementById("feed_submit").addEventListener("click", RevealSubmit);

  var checker_submit = true;

  function RevealSubmit() {
    console.log(checker_submit);
    if(checker_submit){
      document.getElementById("feed_submit_form").style.display = "inline-block";
      checker_submit = false;
    } else {
      document.getElementById("feed_submit_form").style.display = "none";
      checker_submit = true;
    }
  }
</script>

{% endblock %}
